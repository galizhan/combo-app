import{a as v}from"/build/_shared/chunk-ID6CDDMI.js";import{a as d,b as C,d as u}from"/build/_shared/chunk-4XMV4Z2X.js";import{k as l,w as b}from"/build/_shared/chunk-4WBX2LQN.js";import{c as y}from"/build/_shared/chunk-MEPKJ2VW.js";var t=y(b());function B({layout:n,cart:e}){let a=Boolean(e?.lines?.nodes?.length||0),o=`cart-main ${e&&Boolean(e.discountCodes.filter(s=>s.applicable).length)?"with-discount":""}`;return(0,t.jsxs)("div",{className:o,children:[(0,t.jsx)(I,{hidden:a,layout:n}),(0,t.jsx)(g,{cart:e,layout:n})]})}function g({layout:n,cart:e}){let a=!!e&&e.totalQuantity>0;return(0,t.jsxs)("div",{className:"cart-details",children:[(0,t.jsx)(N,{lines:e?.lines,layout:n}),a&&(0,t.jsxs)(q,{cost:e.cost,layout:n,children:[(0,t.jsx)(w,{discountCodes:e.discountCodes}),(0,t.jsx)(k,{checkoutUrl:e.checkoutUrl})]})]})}function N({lines:n,layout:e}){return n?(0,t.jsx)("div",{"aria-labelledby":"cart-lines",children:(0,t.jsx)("ul",{children:n.nodes.map(a=>(0,t.jsx)(L,{line:a,layout:e},a.id))})}):null}function L({layout:n,line:e}){let{id:a,merchandise:i}=e,{product:o,title:s,image:c,selectedOptions:m}=i,p=v(o.handle,m);return(0,t.jsxs)("li",{className:"cart-line",children:[c&&(0,t.jsx)(C,{alt:s,aspectRatio:"1/1",data:c,height:100,loading:"lazy",width:100}),(0,t.jsxs)("div",{children:[(0,t.jsx)(l,{prefetch:"intent",to:p,onClick:()=>{n==="aside"&&(window.location.href=p)},children:(0,t.jsx)("p",{children:(0,t.jsx)("strong",{children:o.title})})}),(0,t.jsx)(U,{line:e,as:"span"}),(0,t.jsx)("ul",{children:m.map(r=>(0,t.jsx)("li",{children:(0,t.jsxs)("small",{children:[r.name,": ",r.value]})},r.name))}),(0,t.jsx)(D,{line:e})]})]},a)}function k({checkoutUrl:n}){return n?(0,t.jsxs)("div",{children:[(0,t.jsx)("a",{href:n,target:"_self",children:(0,t.jsx)("p",{children:"Continue to Checkout \u2192"})}),(0,t.jsx)("br",{})]}):null}function q({cost:n,layout:e,children:a=null}){return(0,t.jsxs)("div",{"aria-labelledby":"cart-summary",className:e==="page"?"cart-summary-page":"cart-summary-aside",children:[(0,t.jsx)("h4",{children:"Totals"}),(0,t.jsxs)("dl",{className:"cart-subtotal",children:[(0,t.jsx)("dt",{children:"Subtotal"}),(0,t.jsx)("dd",{children:n?.subtotalAmount?.amount?(0,t.jsx)(d,{data:n?.subtotalAmount}):"-"})]}),a]})}function A({lineIds:n}){return(0,t.jsx)(u,{route:"/cart",action:u.ACTIONS.LinesRemove,inputs:{lineIds:n},children:(0,t.jsx)("button",{type:"submit",children:"Remove"})})}function D({line:n}){if(!n||typeof n?.quantity>"u")return null;let{id:e,quantity:a}=n,i=Number(Math.max(0,a-1).toFixed(0)),o=Number((a+1).toFixed(0));return(0,t.jsxs)("div",{className:"cart-line-quantiy",children:[(0,t.jsxs)("small",{children:["Quantity: ",a," \xA0\xA0"]}),(0,t.jsx)(h,{lines:[{id:e,quantity:i}],children:(0,t.jsx)("button",{"aria-label":"Decrease quantity",disabled:a<=1,name:"decrease-quantity",value:i,children:(0,t.jsx)("span",{children:"\u2212 "})})}),"\xA0",(0,t.jsx)(h,{lines:[{id:e,quantity:o}],children:(0,t.jsx)("button",{"aria-label":"Increase quantity",name:"increase-quantity",value:o,children:(0,t.jsx)("span",{children:"+"})})}),"\xA0",(0,t.jsx)(A,{lineIds:[e]})]})}function U({line:n,priceType:e="regular",...a}){if(!n?.cost?.amountPerQuantity||!n?.cost?.totalAmount)return null;let i=e==="regular"?n.cost.totalAmount:n.cost.compareAtAmountPerQuantity;return i==null?null:(0,t.jsx)("div",{children:(0,t.jsx)(d,{withoutTrailingZeros:!0,...a,data:i})})}function I({hidden:n=!1,layout:e="aside"}){return(0,t.jsxs)("div",{hidden:n,children:[(0,t.jsx)("br",{}),(0,t.jsx)("p",{children:"Looks like you haven\u2019t added anything yet, let\u2019s get you started!"}),(0,t.jsx)("br",{}),(0,t.jsx)(l,{to:"/collections",onClick:()=>{e==="aside"&&(window.location.href="/collections")},children:"Continue shopping \u2192"})]})}function w({discountCodes:n}){let e=n?.filter(a=>a.applicable)?.map(({code:a})=>a)||[];return(0,t.jsxs)("div",{children:[(0,t.jsx)("dl",{hidden:!e.length,children:(0,t.jsxs)("div",{children:[(0,t.jsx)("dt",{children:"Discount(s)"}),(0,t.jsx)(f,{children:(0,t.jsxs)("div",{className:"cart-discount",children:[(0,t.jsx)("code",{children:e?.join(", ")}),"\xA0",(0,t.jsx)("button",{children:"Remove"})]})})]})}),(0,t.jsx)(f,{discountCodes:e,children:(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{type:"text",name:"discountCode",placeholder:"Discount code"}),"\xA0",(0,t.jsx)("button",{type:"submit",children:"Apply"})]})})]})}function f({discountCodes:n,children:e}){return(0,t.jsx)(u,{route:"/cart",action:u.ACTIONS.DiscountCodesUpdate,inputs:{discountCodes:n||[]},children:e})}function h({children:n,lines:e}){return(0,t.jsx)(u,{route:"/cart",action:u.ACTIONS.LinesUpdate,inputs:{lines:e},children:n})}export{B as a};
//# sourceMappingURL=/build/_shared/chunk-UP5E2WR4.js.map
