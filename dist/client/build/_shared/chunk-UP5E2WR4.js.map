{
  "version": 3,
  "sources": ["../../../../app/components/Cart.jsx"],
  "sourcesContent": ["import {CartForm, Image, Money} from '@shopify/hydrogen';\nimport {Link} from '@remix-run/react';\nimport {useVariantUrl} from '~/utils';\n\nexport function CartMain({layout, cart}) {\n  const linesCount = Boolean(cart?.lines?.nodes?.length || 0);\n  const withDiscount =\n    cart &&\n    Boolean(cart.discountCodes.filter((code) => code.applicable).length);\n  const className = `cart-main ${withDiscount ? 'with-discount' : ''}`;\n\n  return (\n    <div className={className}>\n      <CartEmpty hidden={linesCount} layout={layout} />\n      <CartDetails cart={cart} layout={layout} />\n    </div>\n  );\n}\n\nfunction CartDetails({layout, cart}) {\n  const cartHasItems = !!cart && cart.totalQuantity > 0;\n\n  return (\n    <div className=\"cart-details\">\n      <CartLines lines={cart?.lines} layout={layout} />\n      {cartHasItems && (\n        <CartSummary cost={cart.cost} layout={layout}>\n          <CartDiscounts discountCodes={cart.discountCodes} />\n          <CartCheckoutActions checkoutUrl={cart.checkoutUrl} />\n        </CartSummary>\n      )}\n    </div>\n  );\n}\n\nfunction CartLines({lines, layout}) {\n  if (!lines) return null;\n\n  return (\n    <div aria-labelledby=\"cart-lines\">\n      <ul>\n        {lines.nodes.map((line) => (\n          <CartLineItem key={line.id} line={line} layout={layout} />\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nfunction CartLineItem({layout, line}) {\n  const {id, merchandise} = line;\n  const {product, title, image, selectedOptions} = merchandise;\n  const lineItemUrl = useVariantUrl(product.handle, selectedOptions);\n\n  return (\n    <li key={id} className=\"cart-line\">\n      {image && (\n        <Image\n          alt={title}\n          aspectRatio=\"1/1\"\n          data={image}\n          height={100}\n          loading=\"lazy\"\n          width={100}\n        />\n      )}\n\n      <div>\n        <Link\n          prefetch=\"intent\"\n          to={lineItemUrl}\n          onClick={() => {\n            if (layout === 'aside') {\n              // close the drawer\n              window.location.href = lineItemUrl;\n            }\n          }}\n        >\n          <p>\n            <strong>{product.title}</strong>\n          </p>\n        </Link>\n        <CartLinePrice line={line} as=\"span\" />\n        <ul>\n          {selectedOptions.map((option) => (\n            <li key={option.name}>\n              <small>\n                {option.name}: {option.value}\n              </small>\n            </li>\n          ))}\n        </ul>\n        <CartLineQuantity line={line} />\n      </div>\n    </li>\n  );\n}\n\nfunction CartCheckoutActions({checkoutUrl}) {\n  if (!checkoutUrl) return null;\n\n  return (\n    <div>\n      <a href={checkoutUrl} target=\"_self\">\n        <p>Continue to Checkout &rarr;</p>\n      </a>\n      <br />\n    </div>\n  );\n}\n\nexport function CartSummary({cost, layout, children = null}) {\n  const className =\n    layout === 'page' ? 'cart-summary-page' : 'cart-summary-aside';\n\n  return (\n    <div aria-labelledby=\"cart-summary\" className={className}>\n      <h4>Totals</h4>\n      <dl className=\"cart-subtotal\">\n        <dt>Subtotal</dt>\n        <dd>\n          {cost?.subtotalAmount?.amount ? (\n            <Money data={cost?.subtotalAmount} />\n          ) : (\n            '-'\n          )}\n        </dd>\n      </dl>\n      {children}\n    </div>\n  );\n}\n\nfunction CartLineRemoveButton({lineIds}) {\n  return (\n    <CartForm\n      route=\"/cart\"\n      action={CartForm.ACTIONS.LinesRemove}\n      inputs={{lineIds}}\n    >\n      <button type=\"submit\">Remove</button>\n    </CartForm>\n  );\n}\n\nfunction CartLineQuantity({line}) {\n  if (!line || typeof line?.quantity === 'undefined') return null;\n  const {id: lineId, quantity} = line;\n  const prevQuantity = Number(Math.max(0, quantity - 1).toFixed(0));\n  const nextQuantity = Number((quantity + 1).toFixed(0));\n\n  return (\n    <div className=\"cart-line-quantiy\">\n      <small>Quantity: {quantity} &nbsp;&nbsp;</small>\n      <CartLineUpdateButton lines={[{id: lineId, quantity: prevQuantity}]}>\n        <button\n          aria-label=\"Decrease quantity\"\n          disabled={quantity <= 1}\n          name=\"decrease-quantity\"\n          value={prevQuantity}\n        >\n          <span>&#8722; </span>\n        </button>\n      </CartLineUpdateButton>\n      &nbsp;\n      <CartLineUpdateButton lines={[{id: lineId, quantity: nextQuantity}]}>\n        <button\n          aria-label=\"Increase quantity\"\n          name=\"increase-quantity\"\n          value={nextQuantity}\n        >\n          <span>&#43;</span>\n        </button>\n      </CartLineUpdateButton>\n      &nbsp;\n      <CartLineRemoveButton lineIds={[lineId]} />\n    </div>\n  );\n}\n\nfunction CartLinePrice({line, priceType = 'regular', ...passthroughProps}) {\n  if (!line?.cost?.amountPerQuantity || !line?.cost?.totalAmount) return null;\n\n  const moneyV2 =\n    priceType === 'regular'\n      ? line.cost.totalAmount\n      : line.cost.compareAtAmountPerQuantity;\n\n  if (moneyV2 == null) {\n    return null;\n  }\n\n  return (\n    <div>\n      <Money withoutTrailingZeros {...passthroughProps} data={moneyV2} />\n    </div>\n  );\n}\n\nexport function CartEmpty({hidden = false, layout = 'aside'}) {\n  return (\n    <div hidden={hidden}>\n      <br />\n      <p>\n        Looks like you haven&rsquo;t added anything yet, let&rsquo;s get you\n        started!\n      </p>\n      <br />\n      <Link\n        to=\"/collections\"\n        onClick={() => {\n          if (layout === 'aside') {\n            window.location.href = '/collections';\n          }\n        }}\n      >\n        Continue shopping \u2192\n      </Link>\n    </div>\n  );\n}\n\nfunction CartDiscounts({discountCodes}) {\n  const codes =\n    discountCodes\n      ?.filter((discount) => discount.applicable)\n      ?.map(({code}) => code) || [];\n\n  return (\n    <div>\n      {/* Have existing discount, display it with a remove option */}\n      <dl hidden={!codes.length}>\n        <div>\n          <dt>Discount(s)</dt>\n          <UpdateDiscountForm>\n            <div className=\"cart-discount\">\n              <code>{codes?.join(', ')}</code>\n              &nbsp;\n              <button>Remove</button>\n            </div>\n          </UpdateDiscountForm>\n        </div>\n      </dl>\n\n      {/* Show an input to apply a discount */}\n      <UpdateDiscountForm discountCodes={codes}>\n        <div>\n          <input type=\"text\" name=\"discountCode\" placeholder=\"Discount code\" />\n          &nbsp;\n          <button type=\"submit\">Apply</button>\n        </div>\n      </UpdateDiscountForm>\n    </div>\n  );\n}\n\nfunction UpdateDiscountForm({discountCodes, children}) {\n  return (\n    <CartForm\n      route=\"/cart\"\n      action={CartForm.ACTIONS.DiscountCodesUpdate}\n      inputs={{\n        discountCodes: discountCodes || [],\n      }}\n    >\n      {children}\n    </CartForm>\n  );\n}\n\nfunction CartLineUpdateButton({children, lines}) {\n  return (\n    <CartForm\n      route=\"/cart\"\n      action={CartForm.ACTIONS.LinesUpdate}\n      inputs={{lines}}\n    >\n      {children}\n    </CartForm>\n  );\n}\n"],
  "mappings": "yOAYI,IAAAA,EAAA,OARG,SAASC,EAAS,CAAC,OAAAC,EAAQ,KAAAC,CAAI,EAAG,CACvC,IAAMC,EAAa,QAAQD,GAAM,OAAO,OAAO,QAAU,CAAC,EAIpDE,EAAY,aAFhBF,GACA,QAAQA,EAAK,cAAc,OAAQG,GAASA,EAAK,UAAU,EAAE,MAAM,EACvB,gBAAkB,KAEhE,SACE,QAAC,OAAI,UAAWD,EACd,oBAACE,EAAA,CAAU,OAAQH,EAAY,OAAQF,EAAQ,KAC/C,OAACM,EAAA,CAAY,KAAML,EAAM,OAAQD,EAAQ,GAC3C,CAEJ,CAEA,SAASM,EAAY,CAAC,OAAAN,EAAQ,KAAAC,CAAI,EAAG,CACnC,IAAMM,EAAe,CAAC,CAACN,GAAQA,EAAK,cAAgB,EAEpD,SACE,QAAC,OAAI,UAAU,eACb,oBAACO,EAAA,CAAU,MAAOP,GAAM,MAAO,OAAQD,EAAQ,EAC9CO,MACC,QAACE,EAAA,CAAY,KAAMR,EAAK,KAAM,OAAQD,EACpC,oBAACU,EAAA,CAAc,cAAeT,EAAK,cAAe,KAClD,OAACU,EAAA,CAAoB,YAAaV,EAAK,YAAa,GACtD,GAEJ,CAEJ,CAEA,SAASO,EAAU,CAAC,MAAAI,EAAO,OAAAZ,CAAM,EAAG,CAClC,OAAKY,KAGH,OAAC,OAAI,kBAAgB,aACnB,mBAAC,MACE,SAAAA,EAAM,MAAM,IAAKC,MAChB,OAACC,EAAA,CAA2B,KAAMD,EAAM,OAAQb,GAA7Ba,EAAK,EAAgC,CACzD,EACH,EACF,EATiB,IAWrB,CAEA,SAASC,EAAa,CAAC,OAAAd,EAAQ,KAAAa,CAAI,EAAG,CACpC,GAAM,CAAC,GAAAE,EAAI,YAAAC,CAAW,EAAIH,EACpB,CAAC,QAAAI,EAAS,MAAAC,EAAO,MAAAC,EAAO,gBAAAC,CAAe,EAAIJ,EAC3CK,EAAcC,EAAcL,EAAQ,OAAQG,CAAe,EAEjE,SACE,QAAC,MAAY,UAAU,YACpB,UAAAD,MACC,OAACI,EAAA,CACC,IAAKL,EACL,YAAY,MACZ,KAAMC,EACN,OAAQ,IACR,QAAQ,OACR,MAAO,IACT,KAGF,QAAC,OACC,oBAACK,EAAA,CACC,SAAS,SACT,GAAIH,EACJ,QAAS,IAAM,CACTrB,IAAW,UAEb,OAAO,SAAS,KAAOqB,EAE3B,EAEA,mBAAC,KACC,mBAAC,UAAQ,SAAAJ,EAAQ,MAAM,EACzB,EACF,KACA,OAACQ,EAAA,CAAc,KAAMZ,EAAM,GAAG,OAAO,KACrC,OAAC,MACE,SAAAO,EAAgB,IAAKM,MACpB,OAAC,MACC,oBAAC,SACE,UAAAA,EAAO,KAAK,KAAGA,EAAO,OACzB,GAHOA,EAAO,IAIhB,CACD,EACH,KACA,OAACC,EAAA,CAAiB,KAAMd,EAAM,GAChC,IAtCOE,CAuCT,CAEJ,CAEA,SAASJ,EAAoB,CAAC,YAAAiB,CAAW,EAAG,CAC1C,OAAKA,KAGH,QAAC,OACC,oBAAC,KAAE,KAAMA,EAAa,OAAO,QAC3B,mBAAC,KAAE,uCAA2B,EAChC,KACA,OAAC,OAAG,GACN,EARuB,IAU3B,CAEO,SAASnB,EAAY,CAAC,KAAAoB,EAAM,OAAA7B,EAAQ,SAAA8B,EAAW,IAAI,EAAG,CAI3D,SACE,QAAC,OAAI,kBAAgB,eAAe,UAHpC9B,IAAW,OAAS,oBAAsB,qBAIxC,oBAAC,MAAG,kBAAM,KACV,QAAC,MAAG,UAAU,gBACZ,oBAAC,MAAG,oBAAQ,KACZ,OAAC,MACE,SAAA6B,GAAM,gBAAgB,UACrB,OAACE,EAAA,CAAM,KAAMF,GAAM,eAAgB,EAEnC,IAEJ,GACF,EACCC,GACH,CAEJ,CAEA,SAASE,EAAqB,CAAC,QAAAC,CAAO,EAAG,CACvC,SACE,OAACC,EAAA,CACC,MAAM,QACN,OAAQA,EAAS,QAAQ,YACzB,OAAQ,CAAC,QAAAD,CAAO,EAEhB,mBAAC,UAAO,KAAK,SAAS,kBAAM,EAC9B,CAEJ,CAEA,SAASN,EAAiB,CAAC,KAAAd,CAAI,EAAG,CAChC,GAAI,CAACA,GAAQ,OAAOA,GAAM,SAAa,IAAa,OAAO,KAC3D,GAAM,CAAC,GAAIsB,EAAQ,SAAAC,CAAQ,EAAIvB,EACzBwB,EAAe,OAAO,KAAK,IAAI,EAAGD,EAAW,CAAC,EAAE,QAAQ,CAAC,CAAC,EAC1DE,EAAe,QAAQF,EAAW,GAAG,QAAQ,CAAC,CAAC,EAErD,SACE,QAAC,OAAI,UAAU,oBACb,qBAAC,SAAM,uBAAWA,EAAS,aAAa,KACxC,OAACG,EAAA,CAAqB,MAAO,CAAC,CAAC,GAAIJ,EAAQ,SAAUE,CAAY,CAAC,EAChE,mBAAC,UACC,aAAW,oBACX,SAAUD,GAAY,EACtB,KAAK,oBACL,MAAOC,EAEP,mBAAC,QAAK,mBAAQ,EAChB,EACF,EAAuB,UAEvB,OAACE,EAAA,CAAqB,MAAO,CAAC,CAAC,GAAIJ,EAAQ,SAAUG,CAAY,CAAC,EAChE,mBAAC,UACC,aAAW,oBACX,KAAK,oBACL,MAAOA,EAEP,mBAAC,QAAK,aAAK,EACb,EACF,EAAuB,UAEvB,OAACN,EAAA,CAAqB,QAAS,CAACG,CAAM,EAAG,GAC3C,CAEJ,CAEA,SAASV,EAAc,CAAC,KAAAZ,EAAM,UAAA2B,EAAY,UAAW,GAAGC,CAAgB,EAAG,CACzE,GAAI,CAAC5B,GAAM,MAAM,mBAAqB,CAACA,GAAM,MAAM,YAAa,OAAO,KAEvE,IAAM6B,EACJF,IAAc,UACV3B,EAAK,KAAK,YACVA,EAAK,KAAK,2BAEhB,OAAI6B,GAAW,KACN,QAIP,OAAC,OACC,mBAACX,EAAA,CAAM,qBAAoB,GAAE,GAAGU,EAAkB,KAAMC,EAAS,EACnE,CAEJ,CAEO,SAASrC,EAAU,CAAC,OAAAsC,EAAS,GAAO,OAAA3C,EAAS,OAAO,EAAG,CAC5D,SACE,QAAC,OAAI,OAAQ2C,EACX,oBAAC,OAAG,KACJ,OAAC,KAAE,uFAGH,KACA,OAAC,OAAG,KACJ,OAACnB,EAAA,CACC,GAAG,eACH,QAAS,IAAM,CACTxB,IAAW,UACb,OAAO,SAAS,KAAO,eAE3B,EACD,oCAED,GACF,CAEJ,CAEA,SAASU,EAAc,CAAC,cAAAkC,CAAa,EAAG,CACtC,IAAMC,EACJD,GACI,OAAQE,GAAaA,EAAS,UAAU,GACxC,IAAI,CAAC,CAAC,KAAA1C,CAAI,IAAMA,CAAI,GAAK,CAAC,EAEhC,SACE,QAAC,OAEC,oBAAC,MAAG,OAAQ,CAACyC,EAAM,OACjB,oBAAC,OACC,oBAAC,MAAG,uBAAW,KACf,OAACE,EAAA,CACC,oBAAC,OAAI,UAAU,gBACb,oBAAC,QAAM,SAAAF,GAAO,KAAK,IAAI,EAAE,EAAO,UAEhC,OAAC,UAAO,kBAAM,GAChB,EACF,GACF,EACF,KAGA,OAACE,EAAA,CAAmB,cAAeF,EACjC,oBAAC,OACC,oBAAC,SAAM,KAAK,OAAO,KAAK,eAAe,YAAY,gBAAgB,EAAE,UAErE,OAAC,UAAO,KAAK,SAAS,iBAAK,GAC7B,EACF,GACF,CAEJ,CAEA,SAASE,EAAmB,CAAC,cAAAH,EAAe,SAAAd,CAAQ,EAAG,CACrD,SACE,OAACI,EAAA,CACC,MAAM,QACN,OAAQA,EAAS,QAAQ,oBACzB,OAAQ,CACN,cAAeU,GAAiB,CAAC,CACnC,EAEC,SAAAd,EACH,CAEJ,CAEA,SAASS,EAAqB,CAAC,SAAAT,EAAU,MAAAlB,CAAK,EAAG,CAC/C,SACE,OAACsB,EAAA,CACC,MAAM,QACN,OAAQA,EAAS,QAAQ,YACzB,OAAQ,CAAC,MAAAtB,CAAK,EAEb,SAAAkB,EACH,CAEJ",
  "names": ["import_jsx_runtime", "CartMain", "layout", "cart", "linesCount", "className", "code", "CartEmpty", "CartDetails", "cartHasItems", "CartLines", "CartSummary", "CartDiscounts", "CartCheckoutActions", "lines", "line", "CartLineItem", "id", "merchandise", "product", "title", "image", "selectedOptions", "lineItemUrl", "useVariantUrl", "Image", "Link", "CartLinePrice", "option", "CartLineQuantity", "checkoutUrl", "cost", "children", "Money", "CartLineRemoveButton", "lineIds", "k", "lineId", "quantity", "prevQuantity", "nextQuantity", "CartLineUpdateButton", "priceType", "passthroughProps", "moneyV2", "hidden", "discountCodes", "codes", "discount", "UpdateDiscountForm"]
}
